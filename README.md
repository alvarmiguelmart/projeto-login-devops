â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ARQUITETURA DO SISTEMA                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ğŸŒ FRONTEND                  ğŸ”§ BACKEND                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  Nginx         â”‚          â”‚  Node.js API   â”‚            â”‚
â”‚  â”‚  React/Vue     â”‚    â”Œâ”€â”€â”€â”€â–¶â”‚  Express       â”‚            â”‚
â”‚  â”‚  Container     â”‚    â”‚     â”‚  JWT Auth      â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚           â”‚            â”‚              â”‚                     â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                        â”‚                                     â”‚
â”‚                    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                    â”‚  Redis â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   MongoDB    â”‚    â”‚
â”‚                    â”‚ Sessionâ”‚          â”‚   UsuÃ¡rios   â”‚    â”‚
â”‚                    â”‚ Cache  â”‚          â”‚              â”‚    â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    INFRAESTRUTURA DEVOPS                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ğŸ“¦ CONTAINERIZAÃ‡ÃƒO        ğŸ”„ CI/CD                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Docker         â”‚        â”‚ GitHub Actions â”‚              â”‚
â”‚  â”‚ Docker Compose â”‚        â”‚ Tests Auto     â”‚              â”‚
â”‚  â”‚ Kubernetes     â”‚        â”‚ Deploy Auto    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                              â”‚
â”‚  ğŸ“Š MONITORAMENTO          ğŸ” SEGURANÃ‡A                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Prometheus     â”‚        â”‚ SSL/TLS        â”‚              â”‚
â”‚  â”‚ Grafana        â”‚        â”‚ Rate Limiting  â”‚              â”‚
â”‚  â”‚ ELK Stack      â”‚        â”‚ WAF            â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                              â”‚
â”‚  â˜ï¸ INFRAESTRUTURA          ğŸš€ ORQUESTRAÃ‡ÃƒO                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Terraform      â”‚        â”‚ Kubernetes     â”‚              â”‚
â”‚  â”‚ AWS/Azure/GCP  â”‚        â”‚ Istio          â”‚              â”‚
â”‚  â”‚ Ansible        â”‚        â”‚ Horizontal     â”‚              â”‚
â”‚  â”‚                â”‚        â”‚ Pod Autoscaler â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ğŸ” Sistema de AutenticaÃ§Ã£o DevOps

Sistema completo de autenticaÃ§Ã£o com arquitetura DevOps, containerizaÃ§Ã£o, orquestraÃ§Ã£o, CI/CD e monitoramento.

## ğŸ—ï¸ Arquitetura

- **Frontend**: React.js com Nginx
- **Backend**: Node.js + Express + JWT
- **Database**: MongoDB (Replica Set)
- **Cache**: Redis
- **OrquestraÃ§Ã£o**: Kubernetes
- **CI/CD**: GitHub Actions
- **Infraestrutura**: Terraform (AWS)
- **Monitoramento**: Prometheus + Grafana + ELK
- **ContainerizaÃ§Ã£o**: Docker

## ğŸš€ Quick Start

### PrÃ©-requisitos
- Docker e Docker Compose
- Kubernetes (kubectl)
- Terraform
- AWS CLI (para deploy em cloud)
- Node.js 18+

### Desenvolvimento Local

```bash
# Clone o repositÃ³rio
git clone https://github.com/alvarmiguelmart/projeto-login-devops.git
cd projeto-login-devops

# Configure as variÃ¡veis de ambiente
cp .env.example .env

# Inicie com Docker Compose
docker-compose up -d

# Acesse a aplicaÃ§Ã£o
# Frontend: http://localhost
# Backend API: http://localhost:3000/api
# MongoDB: localhost:27017
# Redis: localhost:6379
# Prometheus: http://localhost:9090
# Grafana: http://localhost:3001 (admin/admin123)
# Kibana: http://localhost:5601
```

### Deploy com Kubernetes

```bash
# Crie o namespace
kubectl apply -f k8s/namespace.yaml

# Aplique as configuraÃ§Ãµes
kubectl apply -f k8s/configmap.yaml
kubectl apply -f k8s/secrets.yaml

# Deploy das aplicaÃ§Ãµes
kubectl apply -f k8s/

# Verifique o status
kubectl get pods -n auth-system
kubectl get svc -n auth-system
```

### Deploy em Cloud (AWS) com Terraform

```bash
cd terraform

# Inicialize o Terraform
terraform init

# Planeje as mudanÃ§as
terraform plan -var-file="environments/prod.tfvars"

# Aplique a infraestrutura
terraform apply -var-file="environments/prod.tfvars" -auto-approve
```

## ğŸ”„ CI/CD Pipeline

O pipeline automatizado inclui:

- âœ… Testes unitÃ¡rios e de integraÃ§Ã£o
- âœ… AnÃ¡lise de seguranÃ§a (Snyk, Trivy)
- âœ… Build e push de imagens Docker
- âœ… Deploy automÃ¡tico para Kubernetes
- âœ… Smoke tests pÃ³s-deploy
- âœ… Rollback automÃ¡tico em caso de falha

## ğŸ“Š Monitoramento

### MÃ©tricas Coletadas
- CPU/Memory usage por pod
- Taxa de requisiÃ§Ãµes HTTP
- LatÃªncia de endpoints
- Taxa de erros (4xx, 5xx)
- ConexÃµes com banco de dados
- Cache hit ratio

### Dashboards
- **Grafana**: MÃ©tricas de performance
- **Kibana**: Logs centralizados
- **Prometheus**: Alertas e mÃ©tricas

### Alertas
- Alto uso de recursos
- Pods com falha
- Alta taxa de erros
- LatÃªncia acima do threshold
- ConexÃµes excessivas

## ğŸ” SeguranÃ§a

### Medidas Implementadas
- âœ… SSL/TLS com certificados Let's Encrypt
- âœ… Rate limiting por IP
- âœ… SanitizaÃ§Ã£o de inputs
- âœ… Headers de seguranÃ§a (Helmet)
- âœ… CORS configurado
- âœ… JWT com refresh token
- âœ… Hash de senhas com bcrypt
- âœ… Secrets gerenciados via Kubernetes
- âœ… Network policies
- âœ… Pod security policies

### Backups
- Backup automÃ¡tico do MongoDB a cada 6h
- Backup do Redis a cada 1h
- RetenÃ§Ã£o de 30 dias
- Backup em S3 com criptografia

## ğŸ§ª Testes

```bash
# Testes unitÃ¡rios
npm run test:unit

# Testes de integraÃ§Ã£o
npm run test:integration

# Testes end-to-end
npm run test:e2e

# Testes de carga (K6)
k6 run tests/load/login-test.js
```

## ğŸ“ˆ Escalabilidade

- Horizontal Pod Autoscaling baseado em CPU/memÃ³ria
- Cluster AutoScaler para nodes do Kubernetes
- Read replicas do MongoDB para consultas
- Redis Cluster para cache distribuÃ­do
- CDN para assets estÃ¡ticos

## ğŸ› Troubleshooting

### Pod nÃ£o inicia
```bash
kubectl describe pod <pod-name> -n auth-system
kubectl logs <pod-name> -n auth-system
```

### Banco de dados sem conexÃ£o
```bash
kubectl exec -it mongodb-0 -n auth-system -- mongo
rs.status()
```

### Alta latÃªncia
```bash
# Verifique mÃ©tricas no Grafana
# Scale up se necessÃ¡rio
kubectl scale deployment backend --replicas=5 -n auth-system
```

## ğŸ¤ ContribuiÃ§Ã£o

1. Fork o projeto
2. Crie sua feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## ğŸ“„ LicenÃ§a

MIT License - veja o arquivo LICENSE para detalhes.

---

Desenvolvido para fins de estudo.
